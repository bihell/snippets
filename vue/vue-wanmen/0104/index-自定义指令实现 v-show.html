<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>隔壁王校长的栗子</title>
    <script src="../bower_components/vue/dist/vue.js"></script>
    <link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.min.css">
    <script src="../bower_components/jquery/dist/jquery.js"></script>
    <script src="../bower_components/bootstrap/dist/js/bootstrap.js"></script>
    <style>

    </style>

</head>
<body>
<div id="app">
    <!-- 自定义事件 v-change="expression":>0 显示，<=0 隐藏-->
    <input type="button" value="++" @click="countAdd">
    <input type="button" value="--" @click="countDelete">
    <H1 v-change="count">如果不++，你看不到我</H1>
</div>
<script>
    let m = {
        count: 0
    };

    let vm = new Vue({
        el: "#app",
        data: m,
        methods: {
            countAdd: function(){
                this.count++;
            },

            countDelete: function(){
                this.count--;
            }
        },
        directives:{
            // 这里跟页面中的 v-change 必须一一对应
            change:{
                // el是被绑定的元素 
                bind: function(el,bindings){
                    console.log('binding......')
                    if(bindings.value > 0){
                        el.setAttribute('style','display: block');
                    } else{
                        el.setAttribute('style','display: none');
                    }
                },
                update: function(el,bindings){
                    console.log('updating......')
                    if(bindings.value > 0){
                        el.setAttribute('style','display: block');
                    } else{
                        el.setAttribute('style','display: none');
                    }
                },
                unbind: function(el,bindings){
                    console.log('unbing......')
                }
            }
        }
    });
</script>
</body>
</html>


